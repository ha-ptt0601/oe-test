{"version":3,"sources":["components/layouts/SideBar.js","components/StoreItem.js","pages/Filter/Filter.js","service/server.js","pages/Filter/index.js","routers/index.js","App.js","index.js"],"names":["Sider","Layout","Header","Content","Footer","SideBar","breakpoint","collapsedWidth","onBreakpoint","broken","console","log","onCollapse","collapsed","type","className","theme","mode","defaultSelectedKeys","stor","stores","map","name","i","Item","key","to","id","React","Component","Text","Typography","StoreItem","Link","item","this","props","direction","toppings","price","Option","Select","Filter","products","listToppings","handleChange","valueOption","onChange","style","padding","minHeight","defaultValue","width","value","Group","length","topping","span","product","getStore","idStore","filter","e","getListProduct","shopProducts","shop","getProduct","idproduct","getTopping","array","Array","listTopping","split","j","indexOf","push","FilterContainer","state","sortByPriceAsc","sort","a","b","Number","sortByPriceDesc","reverse","_handleChange","setState","nameA","toUpperCase","nameB","_onchange","oldProduct","newfilterProduct","includes","_","get","match","productsId","idItem","_extra","prevProps","prevState","idOld","AppRouter","path","exact","component","FilterPage","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b8cc5023.chunk.js","sourcesContent":["import React from \"react\"\r\nimport {Layout, Menu,Button,Select } from \"antd\"\r\nimport {Link} from 'react-router-dom'\r\nimport Title from \"antd/lib/skeleton/Title\"\r\nimport stor from '../../data/stores.json'\r\nconst {Header, Content, Footer, Sider} = Layout\r\nexport default class SideBar extends React.Component {\r\n    render() {\r\n      \r\n        return (\r\n            <>\r\n             \r\n                <Sider\r\n                    breakpoint=\"lg\"\r\n                    collapsedWidth=\"0\"\r\n                    onBreakpoint={broken => {\r\n                      console.log(broken);\r\n                    }}\r\n                    onCollapse={(collapsed, type) => {\r\n                      console.log(collapsed, type);\r\n                    }}\r\n                  >\r\n                    <div className=\"logo\">\r\n                      Milk Tea Store\r\n                    </div>\r\n                    <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['4']}>\r\n                      {stor.stores.map((name,i)=>\r\n                          <Menu.Item key={i}>\r\n                            <Link to={`/category/${name.id}`}>\r\n                              {name.name}\r\n                            </Link>\r\n                          \r\n                        </Menu.Item>\r\n                      )}\r\n                      \r\n                     \r\n                    </Menu>\r\n                </Sider>\r\n\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\"\r\nimport {Layout, Menu,Button,Select, Checkbox, Row, Col,Card,Typography, Space} from \"antd\"\r\nconst { Text, Link } = Typography;\r\nclass StoreItem extends React.Component {\r\n    render() {\r\n        const {item} = this.props\r\n        return (\r\n            <>\r\n              <div className=\"storeItem\">\r\n                    <div className=\"site-card-border-less-wrapper\">\r\n                        <Card>\r\n                            <div className=\"card-space-layout\">\r\n                                <Space direction=\"vertical\">\r\n                                    <Text>MT-0{item&&item[0].id}</Text>\r\n                                    <Text>{item&&item[0].name}</Text>\r\n                                </Space>\r\n                            </div>\r\n                            <div className=\"border-card\"></div>\r\n                            <h4>\r\n                                Toppings:\r\n                            </h4>\r\n                            <p> \r\n                                {item&&item[0].toppings}\r\n                            </p>\r\n                            <div className=\"price-trending\">\r\n                                <div className=\"trending\">\r\n                                        Trending\r\n                                </div>\r\n                                <div className=\"price\">\r\n                                    $ {item&&item[0].price}\r\n                                </div>\r\n                            </div>\r\n\r\n                        </Card>\r\n                        \r\n                    </div>\r\n                </div> \r\n            </>\r\n        );\r\n    }\r\n}\r\nexport default StoreItem\r\n","import React from \"react\"\r\nimport {Layout, Menu,Button,Select, Checkbox, Row, Col,Card,Typography, Space} from \"antd\"\r\nimport {StoreItem} from '../../components'\r\nconst { Text, Link } = Typography;\r\n\r\nconst {Header, Content, Footer, Sider} = Layout\r\nconst { Option } = Select\r\n\r\n// function onChange(checkedValues) {\r\n//     console.log('checked = ', checkedValues);\r\n// }\r\nclass Filter extends React.Component {\r\n    render() {\r\n        const {\r\n            products,\r\n            stores,\r\n            listToppings,\r\n            handleChange,\r\n            valueOption,\r\n            onChange\r\n            } = this.props\r\n        console.log(\"product-man\",valueOption)\r\n        return (\r\n            <>\r\n             <Layout>\r\n                  \r\n                  <Header \r\n                   className=\"site-layout-sub-header-background\" \r\n                   style={{ padding: 0 }}\r\n                  >\r\n                    {stores&&stores[0].name} Menu\r\n                  </Header>\r\n                 \r\n                   <Content>\r\n                       <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 360 }}>\r\n                            <div className=\"button-filter\">\r\n                                <Button>Filter</Button>\r\n                                    \r\n                            </div>\r\n                            \r\n                            <div className=\"SortByName\">\r\n                                <h4>\r\n                                    Sort By\r\n                                </h4>\r\n                                <Select defaultValue={valueOption} style={{ width: 120 }} onChange={handleChange}>\r\n                                    <Option \r\n                                        value=\"name\"\r\n                                        >Name</Option>\r\n                                    <Option value=\"ASC\">Price increase</Option>\r\n                                    <Option value=\"DES\">Price decrease</Option>\r\n                                </Select>\r\n                            </div>\r\n                            <div className=\"topping\">   \r\n                                <Checkbox.Group style={{ width: '100%' }} onChange={onChange}>\r\n                                    <h4 className=\"toppings\">\r\n                                        Toppings:\r\n                                    </h4>\r\n                                    <Row>\r\n                                    {listToppings&&listToppings.length&&listToppings.map(\r\n                                        (topping)=>(\r\n                                            <Col span={8}>\r\n                                                <Checkbox value={topping}>{topping}</Checkbox>\r\n                                            </Col>\r\n                                        )\r\n                                    )}\r\n                                   \r\n                                    </Row>\r\n                                </Checkbox.Group>\r\n                            </div>\r\n                            {products&&products.length&&products.map(\r\n                                (product)=>(\r\n                                    <StoreItem key={product.id} item ={product}/>\r\n                                )\r\n                            )}\r\n                            \r\n\r\n                       </div>\r\n                   </Content>\r\n                \r\n               </Layout>   \r\n            </>\r\n        );\r\n    }\r\n}\r\nexport default Filter\r\n","import axios from 'axios'\r\nimport {products} from '../data/products.json'\r\nimport {stores} from '../data/stores.json'\r\nimport {shopProducts} from '../data/storeProducts.json'\r\nimport _ from 'underscore'\r\n\r\nexport const getListStore = ()=>{\r\n    return [...stores]\r\n}\r\n\r\nexport const getStore = (idStore)=>{\r\n    return stores.filter((e) => e.id == idStore)\r\n}\r\nexport const getListProduct =(idStore)=>{\r\n    const listShopProduct = shopProducts.filter((e) => e.shop == idStore)\r\n    const idListProduct = listShopProduct.map(e=>e.product)\r\n    return idListProduct\r\n}\r\nexport const getProduct = (idproduct)=>{\r\n    const productItem = products.filter(e=>e.id == idproduct)\r\n    return productItem\r\n}\r\n\r\nexport const getTopping = ()=>{\r\n    let array = new Array()\r\n    const listTopping = products.map(e=>e.toppings.split(\",\"))\r\n    for(let i =0 ; i< listTopping.length ; i++){\r\n        for(let j = 0; j < listTopping[i].length ; j++ ){\r\n            if(array.indexOf(listTopping[i][j]) === -1){\r\n                array.push(listTopping[i][j])\r\n            }\r\n        }\r\n    }\r\n    return array\r\n}\r\n\r\n","\"use strict\"\r\nimport React from \"react\"\r\nimport Filter from './Filter'\r\nimport {\r\n    getStore,\r\n    getListStore,\r\n    getListProduct, \r\n    getProduct,\r\n    getTopping,\r\n    } from '../../service/server'\r\nimport _ from 'lodash'\r\nexport default class FilterContainer extends React.Component {\r\n    state={\r\n        products:[],\r\n        stores: null,\r\n        listToppings:[],\r\n        valueOption:\"name\"\r\n    }\r\n    \r\n    sortByPriceAsc = () => {\r\n        const priceAsc =  this.state.products.sort((a, b) => Number(a[0].price) - Number(b[0].price))\r\n        return priceAsc\r\n      }\r\n      sortByPriceDesc = () => this.sortByPriceAsc().reverse()\r\n        \r\n      \r\n    _handleChange = (e)=>{\r\n        if(e === \"ASC\"){\r\n            this.setState({\r\n                products:[...this.sortByPriceAsc()],\r\n                valueOption: \"ASC\"\r\n            })\r\n            console.log(\"increase\",this.state.products)\r\n        }\r\n        if(e === \"DES\"){\r\n            this.setState({\r\n                products:[...this.sortByPriceDesc()],\r\n                valueOption: \"DES\"\r\n            })\r\n            console.log(\"des\",this.state.products)\r\n        }\r\n        if(e === \"name\"){\r\n            this.setState({\r\n                products: this.state.products.sort((a,b)=>{\r\n                    let nameA = a[0].name.toUpperCase(); \r\n                    let nameB = b[0].name.toUpperCase(); \r\n                    console.log(nameA)\r\n                    if (nameA < nameB) {\r\n                      return -1;\r\n                    }\r\n                    if (nameA > nameB) {\r\n                      return 1;\r\n                    }\r\n                    // name trùng nhau\r\n                    return 0;\r\n                })\r\n            })\r\n        }\r\n\r\n    }\r\n    _onchange = (e) =>{\r\n        let oldProduct = this.state.products\r\n        if(e.length !== 0){\r\n            const newfilterProduct = new Array()\r\n            console.log(\"checked\", e)\r\n           \r\n            console.log(this.state.products)\r\n            for( let i = 0; i < e.length; i++){\r\n                for(let j = 0; j< oldProduct.length; j++){\r\n                    console.log(\"ha\",oldProduct[j])\r\n                    if(oldProduct[j][0].toppings.includes(e[i])){\r\n                        if(newfilterProduct.indexOf(oldProduct[j]) === -1){\r\n                            newfilterProduct.push(oldProduct[j])\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.setState({\r\n                products:newfilterProduct\r\n            })\r\n        }else{\r\n            console.log(\"uncheck\")\r\n            const id= _.get(this.props.match,\"params.id\")\r\n            const productsId = getListProduct(id)\r\n            const products = productsId.length &&productsId.map(\r\n                (idItem)=> getProduct(idItem)\r\n            )\r\n            this.setState({\r\n                products: products\r\n            })\r\n            console.log(this.state.products)\r\n        }\r\n        \r\n    }\r\n    async componentDidMount(){\r\n        const id= _.get(this.props.match,\"params.id\")\r\n        const stores = await getStore(id)\r\n        const productsId = await getListProduct(id)\r\n        const listToppings = await getTopping()\r\n        const products = productsId.length &&productsId.map(\r\n            (idItem)=> getProduct(idItem)\r\n        )\r\n\r\n       \r\n        this.setState({\r\n            stores,\r\n            products,\r\n            listToppings\r\n        })\r\n        \r\n    }\r\n    async componentDidUpdate(prevProps, prevState){\r\n        const id= _.get(this.props.match,\"params.id\")\r\n        const idOld = _.get(prevProps,\"match.params.id\")\r\n        if(id !== idOld){\r\n            const stores = await getStore(id)\r\n            const productsId = await getListProduct(id)\r\n            const listToppings = await getTopping()\r\n            const products = productsId.length &&productsId.map(\r\n                (idItem)=> getProduct(idItem)\r\n            )\r\n           \r\n            this.setState({\r\n                stores,\r\n                products,\r\n                listToppings\r\n            })\r\n\r\n        }\r\n        \r\n    }\r\n    _extra = () =>({\r\n        ...this.state,\r\n        handleChange:this._handleChange,\r\n        onChange: this._onchange\r\n    })\r\n    render() {\r\n        return <Filter {...this._extra()}/>\r\n    }\r\n}\r\n","import React from 'react'\r\nimport {Switch, Route, Redirect} from 'react-router-dom'\r\nimport {FilterPage} from '../pages'\r\nexport default class AppRouter extends React.Component {\r\n    render() {\r\n        return (\r\n            <Switch>\r\n                <Route path=\"/category/:id\" exact component= {FilterPage}/>\r\n            </Switch>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\nimport {SideBar} from './components/layouts'\nimport {BrowserRouter} from \"react-router-dom\"\nimport AppRouter from './routers'\nimport {Layout } from \"antd\"\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Layout>\n          <SideBar/>\n          <AppRouter/>\n        </Layout>\n        \n      </BrowserRouter>\n    );\n  }\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport \"./assets/css/sideBar.css\"\n\nReactDOM.render(\n    <App />\n  ,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}